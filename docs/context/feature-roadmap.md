# Feature Roadmap - B2B SaaS LMS

> ë©€í‹°í…Œë„ŒíŠ¸ B2B SaaS í•™ìŠµ í”Œë«í¼ ê¸°ëŠ¥ ë¡œë“œë§µ
> Phase 1-3ê¹Œì§€ êµ¬í˜„ ë²”ìœ„ ì •ì˜

---

## Phase ê°œìš”

| Phase | ëª©í‘œ | ìƒíƒœ |
|-------|------|------|
| **Phase 1** | í•µì‹¬ ê¸°ëŠ¥ (MVP) | âœ… ì™„ë£Œ |
| **Phase 2** | í†µê³„ & ëª¨ë‹ˆí„°ë§ | ğŸ”„ ì§„í–‰ ì˜ˆì • |
| **Phase 3** | ê³ ê¸‰ ì»¤ìŠ¤í„°ë§ˆì´ì§• | ğŸ“‹ ê³„íš |

---

## Phase 1: í•µì‹¬ ê¸°ëŠ¥ (MVP) âœ…

### SUPER_ADMIN
| ê¸°ëŠ¥ | ì„¤ëª… | ìƒíƒœ |
|------|------|:----:|
| í…Œë„ŒíŠ¸ CRUD | ìƒì„±, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ | âœ… |
| í…Œë„ŒíŠ¸ í™œì„±í™”/ë¹„í™œì„±í™” | ìƒíƒœ ë³€ê²½ | âœ… |
| í…Œë„ŒíŠ¸ ë¸Œëœë”© ê´€ë¦¬ | ìƒ‰ìƒ, ë¡œê³  ì„¤ì • | âœ… |
| í…Œë„ŒíŠ¸ ì„¤ì • ê´€ë¦¬ | ê¸°ëŠ¥ on/off í”Œë˜ê·¸ | âœ… |
| í…Œë„ŒíŠ¸ ë¼ë²¨ ê´€ë¦¬ | ìš©ì–´ ì»¤ìŠ¤í„°ë§ˆì´ì§• | âœ… |
| TENANT_ADMIN ê³„ì • ìƒì„± | í…Œë„ŒíŠ¸ë³„ ê´€ë¦¬ì ìƒì„± | âœ… |

### TENANT_ADMIN
| ê¸°ëŠ¥ | ì„¤ëª… | ìƒíƒœ |
|------|------|:----:|
| ë¸Œëœë”© ì„¤ì • | ë¡œê³ , ìƒ‰ìƒ, í—¤ë”/ì‚¬ì´ë“œë°” | âœ… |
| ë¼ë²¨ ì„¤ì • | ê°•ì˜â†’ê³¼ì •, ìˆ˜ê°•ìƒâ†’êµìœ¡ìƒ ë“± | âœ… |
| OPERATOR ê³„ì • ê´€ë¦¬ | ìƒì„±, ìˆ˜ì •, ì‚­ì œ | âœ… |
| ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ | í…Œë„ŒíŠ¸ ì •ë³´ í‘œì‹œ | âœ… |

### OPERATOR
| ê¸°ëŠ¥ | ì„¤ëª… | ìƒíƒœ |
|------|------|:----:|
| ê°•ì˜ ê´€ë¦¬ | CRUD, ìŠ¹ì¸/ê±°ì ˆ | âœ… |
| ì°¨ìˆ˜(Term) ê´€ë¦¬ | ìƒì„±, ì¼ì • ì„¤ì • | âœ… |
| ê°•ì‚¬ ë°°ì • | ì°¨ìˆ˜ë³„ ê°•ì‚¬ ë°°ì • | âœ… |
| ìˆ˜ê°• ê´€ë¦¬ | ìˆ˜ê°• ì‹ ì²­ ì²˜ë¦¬ | âœ… |
| IIS/SIS ì¡°íšŒ | ê°•ì‚¬/ìˆ˜ê°•ìƒ ì •ë³´ ì‹œìŠ¤í…œ | âœ… |

### USER (ìˆ˜ê°•ìƒ)
| ê¸°ëŠ¥ | ì„¤ëª… | ìƒíƒœ |
|------|------|:----:|
| íšŒì›ê°€ì…/ë¡œê·¸ì¸ | í…Œë„ŒíŠ¸ë³„ ì¸ì¦ | âœ… |
| ê°•ì˜ íƒìƒ‰ | ëª©ë¡ ì¡°íšŒ, ê²€ìƒ‰ | âœ… |
| ìˆ˜ê°• ì‹ ì²­ | ì°¨ìˆ˜ë³„ ì‹ ì²­ | âœ… |
| ë‚´ í•™ìŠµì‹¤ | ìˆ˜ê°• í˜„í™© ì¡°íšŒ | âœ… |
| ê°•ì˜ ê°œì„¤ ì‹ ì²­ | ì‹ ê·œ ê°•ì˜ ìš”ì²­ | âœ… |

### ì¸í”„ë¼ & ë³´ì•ˆ
| ê¸°ëŠ¥ | ì„¤ëª… | ìƒíƒœ |
|------|------|:----:|
| ë©€í‹°í…Œë„ŒíŠ¸ ë°ì´í„° ê²©ë¦¬ | Hibernate @Filter | âœ… |
| JWT ì¸ì¦ | Access + Refresh Token | âœ… |
| ì—­í•  ê¸°ë°˜ ê¶Œí•œ | @PreAuthorize | âœ… |
| í¬ë¡œìŠ¤í…Œë„ŒíŠ¸ ë°©ì§€ | ID ì¡°íšŒ ì‹œ tenantId ê²€ì¦ | âœ… |

---

## Phase 2: í†µê³„ & ëª¨ë‹ˆí„°ë§ ğŸ”„

### SUPER_ADMIN í†µê³„ ëŒ€ì‹œë³´ë“œ

#### ì „ì²´ ì‹œìŠ¤í…œ í†µê³„
| ê¸°ëŠ¥ | ì„¤ëª… | API |
|------|------|-----|
| ì „ì²´ í…Œë„ŒíŠ¸ ìˆ˜ | í™œì„±/ë¹„í™œì„± êµ¬ë¶„ | `GET /api/super-admin/stats/tenants` |
| ì „ì²´ ì‚¬ìš©ì ìˆ˜ | ì—­í• ë³„ ë¶„í¬ | `GET /api/super-admin/stats/users` |
| ì „ì²´ ê°•ì˜ ìˆ˜ | ìƒíƒœë³„ ë¶„í¬ | `GET /api/super-admin/stats/courses` |
| ì „ì²´ ìˆ˜ê°• í˜„í™© | ì§„í–‰ì¤‘/ì™„ë£Œ | `GET /api/super-admin/stats/enrollments` |

#### í…Œë„ŒíŠ¸ë³„ í†µê³„
| ê¸°ëŠ¥ | ì„¤ëª… | API |
|------|------|-----|
| í…Œë„ŒíŠ¸ë³„ ì‚¬ìš©ì ìˆ˜ | í…Œë„ŒíŠ¸ë³„ ìœ ì € ì¹´ìš´íŠ¸ | `GET /api/super-admin/stats/tenants/{id}/users` |
| í…Œë„ŒíŠ¸ë³„ ê°•ì˜ ìˆ˜ | í…Œë„ŒíŠ¸ë³„ ê°•ì˜ ì¹´ìš´íŠ¸ | `GET /api/super-admin/stats/tenants/{id}/courses` |
| í…Œë„ŒíŠ¸ë³„ í™œë™ëŸ‰ | ë¡œê·¸ì¸ íšŸìˆ˜, API í˜¸ì¶œ | `GET /api/super-admin/stats/tenants/{id}/activity` |
| í…Œë„ŒíŠ¸ë³„ ìŠ¤í† ë¦¬ì§€ | íŒŒì¼ ì—…ë¡œë“œ ìš©ëŸ‰ | `GET /api/super-admin/stats/tenants/{id}/storage` |

#### í…Œë„ŒíŠ¸ ê´€ë¦¬ ê³ ë„í™”
| ê¸°ëŠ¥ | ì„¤ëª… | API |
|------|------|-----|
| í…Œë„ŒíŠ¸ ì‹ ì²­ ìŠ¹ì¸ í”Œë¡œìš° | ì‹ ì²­â†’ê²€í† â†’ìŠ¹ì¸/ê±°ì ˆ | `PUT /api/super-admin/tenant-applications/{id}/approve` |
| í…Œë„ŒíŠ¸ ì¼ê´„ ì‘ì—… | ë‹¤ì¤‘ ì„ íƒ ìƒíƒœ ë³€ê²½ | `PUT /api/super-admin/tenants/bulk-status` |
| ê¸€ë¡œë²Œ ê³µì§€ì‚¬í•­ | ì „ì²´ í…Œë„ŒíŠ¸ ê³µì§€ | `POST /api/super-admin/announcements` |

### TENANT_ADMIN í†µê³„ ëŒ€ì‹œë³´ë“œ

#### í…Œë„ŒíŠ¸ ë‚´ í†µê³„
| ê¸°ëŠ¥ | ì„¤ëª… | API |
|------|------|-----|
| ì‚¬ìš©ì í†µê³„ | ì´ ì‚¬ìš©ì, ì—­í• ë³„ ë¶„í¬ | `GET /api/tenant-admin/stats/users` |
| ê°•ì˜ í†µê³„ | ì´ ê°•ì˜, ìƒíƒœë³„ ë¶„í¬ | `GET /api/tenant-admin/stats/courses` |
| ìˆ˜ê°• í†µê³„ | ìˆ˜ê°• ì‹ ì²­/ì™„ë£Œ í˜„í™© | `GET /api/tenant-admin/stats/enrollments` |
| í™œë™ í†µê³„ | ì¼ë³„/ì£¼ë³„ í™œë™ëŸ‰ | `GET /api/tenant-admin/stats/activity` |

#### ì°¨íŠ¸ & ì‹œê°í™”
| ì°¨íŠ¸ | ë°ì´í„° | íƒ€ì… |
|------|--------|------|
| ì‚¬ìš©ì ì¦ê°€ ì¶”ì´ | ì¼ë³„/ì›”ë³„ ì‹ ê·œ ê°€ì… | Line Chart |
| ì—­í• ë³„ ë¶„í¬ | USER/INSTRUCTOR/OPERATOR | Pie Chart |
| ê°•ì˜ ìƒíƒœ í˜„í™© | DRAFT/APPROVED/REJECTED | Bar Chart |
| ìˆ˜ê°• ì™„ë£Œìœ¨ | ì™„ë£Œ/ì§„í–‰ì¤‘/ë¯¸ì‹œì‘ | Donut Chart |

### ê°ì‚¬ ë¡œê·¸ (Audit Log)

#### ì¶”ì  ëŒ€ìƒ
| ì•¡ì…˜ | ëŒ€ìƒ | ê¸°ë¡ ì •ë³´ |
|------|------|----------|
| CREATE | ì‚¬ìš©ì, ê°•ì˜, í…Œë„ŒíŠ¸ | who, when, what |
| UPDATE | ì„¤ì •, ë¸Œëœë”©, ê¶Œí•œ | before, after |
| DELETE | ì‚¬ìš©ì, ê°•ì˜ | soft delete í¬í•¨ |
| LOGIN | ì¸ì¦ | IP, User-Agent |
| PERMISSION | ê¶Œí•œ ë³€ê²½ | ì—­í•  ë³€ê²½ ì´ë ¥ |

#### í…Œì´ë¸” êµ¬ì¡°
```sql
CREATE TABLE audit_logs (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT,                    -- NULLì´ë©´ ì‹œìŠ¤í…œ ë ˆë²¨
    user_id BIGINT NOT NULL,             -- ìˆ˜í–‰í•œ ì‚¬ìš©ì
    action VARCHAR(50) NOT NULL,         -- CREATE, UPDATE, DELETE, LOGIN
    entity_type VARCHAR(100) NOT NULL,   -- User, Course, Tenant ë“±
    entity_id BIGINT,                    -- ëŒ€ìƒ ì—”í‹°í‹° ID
    old_value JSON,                      -- ë³€ê²½ ì „ ê°’
    new_value JSON,                      -- ë³€ê²½ í›„ ê°’
    ip_address VARCHAR(50),
    user_agent VARCHAR(500),
    created_at TIMESTAMP NOT NULL
);
```

### ì‚¬ìš©ëŸ‰ ì¶”ì 

#### í…Œì´ë¸” êµ¬ì¡°
```sql
CREATE TABLE usage_statistics (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL,
    stat_date DATE NOT NULL,             -- ì§‘ê³„ ë‚ ì§œ
    active_users INT DEFAULT 0,          -- í™œì„± ì‚¬ìš©ì ìˆ˜
    login_count INT DEFAULT 0,           -- ë¡œê·¸ì¸ íšŸìˆ˜
    api_calls INT DEFAULT 0,             -- API í˜¸ì¶œ ìˆ˜
    storage_used_mb DECIMAL(10,2),       -- ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰
    course_views INT DEFAULT 0,          -- ê°•ì˜ ì¡°íšŒ ìˆ˜
    enrollments INT DEFAULT 0,           -- ìˆ˜ê°• ì‹ ì²­ ìˆ˜
    created_at TIMESTAMP NOT NULL,
    UNIQUE KEY uk_tenant_date (tenant_id, stat_date)
);
```

---

## Phase 3: ê³ ê¸‰ ì»¤ìŠ¤í„°ë§ˆì´ì§• ğŸ“‹

### TENANT_ADMIN ë¸Œëœë”© í™•ì¥

#### í…Œë§ˆ ì‹œìŠ¤í…œ
| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| í…Œë§ˆ í…œí”Œë¦¿ | ë¯¸ë¦¬ ì •ì˜ëœ í…Œë§ˆ ì„ íƒ (Light, Dark, Corporate ë“±) |
| ì»¤ìŠ¤í…€ í…Œë§ˆ ì €ì¥ | í˜„ì¬ ì„¤ì •ì„ í…œí”Œë¦¿ìœ¼ë¡œ ì €ì¥ |
| í…Œë§ˆ í”„ë¦¬ë·° | ì ìš© ì „ ë¯¸ë¦¬ë³´ê¸° |
| í…Œë§ˆ ì´ˆê¸°í™” | ê¸°ë³¸ê°’ìœ¼ë¡œ ë³µì› |

#### í°íŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•
| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì‹œìŠ¤í…œ í°íŠ¸ ì„ íƒ | Pretendard, Noto Sans KR, Roboto ë“± |
| ì»¤ìŠ¤í…€ í°íŠ¸ URL | Google Fonts, ìì²´ í˜¸ìŠ¤íŒ… |
| í°íŠ¸ í¬ê¸° ì¡°ì ˆ | ê¸°ë³¸ í°íŠ¸ ì‚¬ì´ì¦ˆ ì„¤ì • |

#### ê³ ê¸‰ ìƒ‰ìƒ ì„¤ì •
| í•­ëª© | ì„¤ëª… |
|------|------|
| Primary/Secondary/Accent | ê¸°ë³¸ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ |
| Header ë°°ê²½/í…ìŠ¤íŠ¸ | ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ |
| Sidebar ë°°ê²½/í…ìŠ¤íŠ¸/Active | ì‚¬ì´ë“œ ë©”ë‰´ |
| Button Primary/Secondary | ë²„íŠ¼ ìŠ¤íƒ€ì¼ |
| ë°°ê²½ìƒ‰ | í˜ì´ì§€ ë°°ê²½ |
| ì»¤ìŠ¤í…€ CSS | ê³ ê¸‰ ì‚¬ìš©ììš© ì§ì ‘ CSS ì…ë ¥ |

### ë ˆì´ì•„ì›ƒ ì»¤ìŠ¤í„°ë§ˆì´ì§•

#### ì»´í¬ë„ŒíŠ¸ On/Off
| ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|----------|------|--------|
| Header ê²€ìƒ‰ë°” | ìƒë‹¨ ê²€ìƒ‰ ê¸°ëŠ¥ | ON |
| Sidebar | ì¢Œì¸¡ ë©”ë‰´ | ON |
| Footer | í•˜ë‹¨ í‘¸í„° | ON |
| ë°°ë„ˆ ì„¹ì…˜ | ë©”ì¸ ë°°ë„ˆ ì˜ì—­ | ON |
| ê³µì§€ì‚¬í•­ íŒì—… | ë¡œê·¸ì¸ í›„ íŒì—… | OFF |
| ê´‘ê³  ì˜ì—­ | í”„ë¡œëª¨ì…˜ ë°°ë„ˆ | OFF |

#### ë©”ë‰´ êµ¬ì„±
| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ë©”ë‰´ í•­ëª© ìˆœì„œ ë³€ê²½ | ë“œë˜ê·¸ ì•¤ ë“œë¡­ |
| ë©”ë‰´ í•­ëª© ìˆ¨ê¸°ê¸° | ë¶ˆí•„ìš”í•œ ë©”ë‰´ ë¹„í™œì„±í™” |
| ì»¤ìŠ¤í…€ ë©”ë‰´ ì¶”ê°€ | ì™¸ë¶€ ë§í¬ ë©”ë‰´ ì¶”ê°€ |
| ë©”ë‰´ ì•„ì´ì½˜ ë³€ê²½ | ì•„ì´ì½˜ ì„ íƒ |

#### í…Œì´ë¸” êµ¬ì¡° (í™•ì¥)
```sql
-- tenant_layout_settings í…Œì´ë¸”
CREATE TABLE tenant_layout_settings (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL UNIQUE,

    -- ì»´í¬ë„ŒíŠ¸ On/Off
    header_search_enabled BOOLEAN DEFAULT TRUE,
    sidebar_enabled BOOLEAN DEFAULT TRUE,
    footer_enabled BOOLEAN DEFAULT TRUE,
    banner_enabled BOOLEAN DEFAULT TRUE,
    announcement_popup_enabled BOOLEAN DEFAULT FALSE,
    ad_section_enabled BOOLEAN DEFAULT FALSE,

    -- ë©”ë‰´ ì„¤ì • (JSON)
    menu_config JSON,                    -- ìˆœì„œ, í‘œì‹œ ì—¬ë¶€, ì»¤ìŠ¤í…€ ë©”ë‰´

    -- í…Œë§ˆ ì„¤ì •
    theme_template VARCHAR(50),          -- light, dark, corporate, custom
    saved_themes JSON,                   -- ì €ì¥ëœ ì»¤ìŠ¤í…€ í…Œë§ˆ ëª©ë¡

    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);
```

### ë„¤ì´ë° & ë¼ë²¨ í™•ì¥

#### í™•ì¥ëœ ë¼ë²¨ ì„¤ì •
| ê¸°ì¡´ ë¼ë²¨ | ì¶”ê°€ ë¼ë²¨ |
|----------|----------|
| courseLabel (ê°•ì˜) | navbarTitle (ìƒë‹¨ ë©”ë‰´) |
| termLabel (ì°¨ìˆ˜) | sidebarTitle (ì‚¬ì´ë“œ ë©”ë‰´) |
| studentLabel (ìˆ˜ê°•ìƒ) | dashboardTitle (ëŒ€ì‹œë³´ë“œ) |
| instructorLabel (ê°•ì‚¬) | profileLabel (í”„ë¡œí•„) |
| platformName (í”Œë«í¼ëª…) | welcomeMessage (í™˜ì˜ ë©”ì‹œì§€) |

#### í…Œì´ë¸” í™•ì¥
```sql
ALTER TABLE tenant_labels ADD COLUMN navbar_title VARCHAR(50) DEFAULT 'ë©”ë‰´';
ALTER TABLE tenant_labels ADD COLUMN sidebar_title VARCHAR(50) DEFAULT 'íƒìƒ‰';
ALTER TABLE tenant_labels ADD COLUMN welcome_message VARCHAR(200) DEFAULT 'í™˜ì˜í•©ë‹ˆë‹¤';
ALTER TABLE tenant_labels ADD COLUMN footer_text VARCHAR(500);
```

### ì‚¬ìš©ì ê´€ë¦¬ ê³ ë„í™”

#### CSV ì¼ê´„ ë“±ë¡
| ê¸°ëŠ¥ | ì„¤ëª… | API |
|------|------|-----|
| CSV í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ | ìƒ˜í”Œ íŒŒì¼ ì œê³µ | `GET /api/tenant-admin/users/csv-template` |
| CSV ì—…ë¡œë“œ & ê²€ì¦ | ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ | `POST /api/tenant-admin/users/csv-validate` |
| ì¼ê´„ ìƒì„± ì‹¤í–‰ | ê²€ì¦ í›„ ìƒì„± | `POST /api/tenant-admin/users/csv-import` |
| ê²°ê³¼ ë¦¬í¬íŠ¸ | ì„±ê³µ/ì‹¤íŒ¨ ê±´ìˆ˜ | ì‘ë‹µì— í¬í•¨ |

#### CSV í˜•ì‹
```csv
email,name,role,department
user1@company.com,í™ê¸¸ë™,USER,ê°œë°œíŒ€
user2@company.com,ê¹€ì² ìˆ˜,INSTRUCTOR,êµìœ¡íŒ€
```

#### ë°ì´í„° ë‚´ë³´ë‚´ê¸°
| ëŒ€ìƒ | í˜•ì‹ | API |
|------|------|-----|
| ì‚¬ìš©ì ëª©ë¡ | Excel/CSV | `GET /api/tenant-admin/users/export` |
| ê°•ì˜ ëª©ë¡ | Excel/CSV | `GET /api/tenant-admin/courses/export` |
| ìˆ˜ê°• í˜„í™© | Excel/CSV | `GET /api/tenant-admin/enrollments/export` |
| í†µê³„ ë¦¬í¬íŠ¸ | PDF/Excel | `GET /api/tenant-admin/reports/export` |

### ì—­í•  & ê¶Œí•œ ì„¸ë¶„í™”

#### OPERATOR ê¶Œí•œ ì„¸ë¶„í™”
| ê¶Œí•œ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|------|------|--------|
| COURSE_READ | ê°•ì˜ ì¡°íšŒ | âœ… |
| COURSE_WRITE | ê°•ì˜ ìƒì„±/ìˆ˜ì • | âœ… |
| COURSE_DELETE | ê°•ì˜ ì‚­ì œ | âŒ |
| COURSE_APPROVE | ê°•ì˜ ìŠ¹ì¸/ê±°ì ˆ | âœ… |
| USER_READ | ì‚¬ìš©ì ì¡°íšŒ | âœ… |
| USER_WRITE | ì‚¬ìš©ì ìˆ˜ì • | âŒ |
| ENROLLMENT_MANAGE | ìˆ˜ê°• ê´€ë¦¬ | âœ… |
| TERM_MANAGE | ì°¨ìˆ˜ ê´€ë¦¬ | âœ… |
| INSTRUCTOR_ASSIGN | ê°•ì‚¬ ë°°ì • | âœ… |
| REPORT_VIEW | ë¦¬í¬íŠ¸ ì¡°íšŒ | âœ… |

#### í…Œì´ë¸” êµ¬ì¡°
```sql
CREATE TABLE operator_permissions (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,             -- OPERATOR ì‚¬ìš©ì
    tenant_id BIGINT NOT NULL,
    permission VARCHAR(50) NOT NULL,     -- ê¶Œí•œ ì½”ë“œ
    granted BOOLEAN DEFAULT TRUE,
    granted_by BIGINT,                   -- ê¶Œí•œ ë¶€ì—¬ì
    granted_at TIMESTAMP,
    UNIQUE KEY uk_user_permission (user_id, permission)
);
```

### ì•Œë¦¼ & ì´ë©”ì¼ ì„¤ì •

#### ì•Œë¦¼ ì±„ë„ ì„¤ì •
| ì±„ë„ | ì„¤ëª… | ì„¤ì • |
|------|------|------|
| ì´ë©”ì¼ | ì£¼ìš” ì•Œë¦¼ ì´ë©”ì¼ ë°œì†¡ | ON/OFF |
| ì¸ì•± ì•Œë¦¼ | ì‹œìŠ¤í…œ ë‚´ ì•Œë¦¼ | ON/OFF |
| SMS (í™•ì¥) | ë¬¸ì ì•Œë¦¼ | ON/OFF |

#### ì´ë©”ì¼ í…œí”Œë¦¿ ì»¤ìŠ¤í„°ë§ˆì´ì§•
| í…œí”Œë¦¿ | ìš©ë„ |
|--------|------|
| welcome | íšŒì›ê°€ì… í™˜ì˜ |
| password_reset | ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • |
| enrollment_approved | ìˆ˜ê°• ìŠ¹ì¸ |
| enrollment_rejected | ìˆ˜ê°• ê±°ì ˆ |
| course_reminder | ê°•ì˜ ì‹œì‘ ì•Œë¦¼ |

#### í…Œì´ë¸” êµ¬ì¡°
```sql
CREATE TABLE tenant_email_templates (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL,
    template_type VARCHAR(50) NOT NULL,  -- welcome, password_reset ë“±
    subject VARCHAR(200) NOT NULL,
    body TEXT NOT NULL,                  -- HTML í…œí”Œë¦¿
    variables JSON,                      -- ì‚¬ìš© ê°€ëŠ¥í•œ ë³€ìˆ˜ ëª©ë¡
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL,
    UNIQUE KEY uk_tenant_template (tenant_id, template_type)
);
```

### ë¡œê·¸ì¸ & ë³´ì•ˆ ì •ì±…

#### í…Œë„ŒíŠ¸ë³„ ë³´ì•ˆ ì„¤ì •
| ì„¤ì • | ì„¤ëª… | ê¸°ë³¸ê°’ |
|------|------|--------|
| ë¹„ë°€ë²ˆí˜¸ ìµœì†Œ ê¸¸ì´ | ìµœì†Œ ë¬¸ì ìˆ˜ | 8 |
| ë¹„ë°€ë²ˆí˜¸ ë³µì¡ì„± | ëŒ€ì†Œë¬¸ì/ìˆ«ì/íŠ¹ìˆ˜ë¬¸ì ìš”êµ¬ | ì¤‘ê°„ |
| ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ | ìë™ ë¡œê·¸ì•„ì›ƒ ì‹œê°„ (ë¶„) | 30 |
| ë¡œê·¸ì¸ ì‹œë„ ì œí•œ | ì‹¤íŒ¨ íšŸìˆ˜ ì œí•œ | 5íšŒ |
| ê³„ì • ì ê¸ˆ ì‹œê°„ | ì ê¸ˆ í›„ ëŒ€ê¸° ì‹œê°„ (ë¶„) | 30 |
| 2FA í™œì„±í™” | 2ë‹¨ê³„ ì¸ì¦ | OFF |
| IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ | í—ˆìš© IP ëª©ë¡ | ë¹„í™œì„± |

#### í…Œì´ë¸” êµ¬ì¡°
```sql
CREATE TABLE tenant_security_settings (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL UNIQUE,

    -- ë¹„ë°€ë²ˆí˜¸ ì •ì±…
    password_min_length INT DEFAULT 8,
    password_require_uppercase BOOLEAN DEFAULT TRUE,
    password_require_lowercase BOOLEAN DEFAULT TRUE,
    password_require_number BOOLEAN DEFAULT TRUE,
    password_require_special BOOLEAN DEFAULT FALSE,
    password_expiry_days INT DEFAULT 0,  -- 0 = ë§Œë£Œ ì—†ìŒ

    -- ì„¸ì…˜ ì •ì±…
    session_timeout_minutes INT DEFAULT 30,
    max_concurrent_sessions INT DEFAULT 3,

    -- ë¡œê·¸ì¸ ë³´ì•ˆ
    max_login_attempts INT DEFAULT 5,
    lockout_duration_minutes INT DEFAULT 30,

    -- ê³ ê¸‰ ë³´ì•ˆ
    two_factor_enabled BOOLEAN DEFAULT FALSE,
    ip_whitelist_enabled BOOLEAN DEFAULT FALSE,
    ip_whitelist JSON,                   -- í—ˆìš© IP ëª©ë¡

    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);
```

---

## API ì—”ë“œí¬ì¸íŠ¸ ìš”ì•½

### Phase 2 ì‹ ê·œ API

```
# SUPER_ADMIN í†µê³„
GET  /api/super-admin/stats/overview          # ì „ì²´ ì‹œìŠ¤í…œ í†µê³„
GET  /api/super-admin/stats/tenants           # í…Œë„ŒíŠ¸ ëª©ë¡ + í†µê³„
GET  /api/super-admin/stats/tenants/{id}      # íŠ¹ì • í…Œë„ŒíŠ¸ ìƒì„¸ í†µê³„
GET  /api/super-admin/audit-logs              # ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ

# SUPER_ADMIN ê´€ë¦¬
POST /api/super-admin/announcements           # ê¸€ë¡œë²Œ ê³µì§€
PUT  /api/super-admin/tenants/bulk-status     # í…Œë„ŒíŠ¸ ì¼ê´„ ìƒíƒœ ë³€ê²½

# TENANT_ADMIN í†µê³„
GET  /api/tenant-admin/stats/overview         # í…Œë„ŒíŠ¸ í†µê³„ ê°œìš”
GET  /api/tenant-admin/stats/users            # ì‚¬ìš©ì í†µê³„
GET  /api/tenant-admin/stats/courses          # ê°•ì˜ í†µê³„
GET  /api/tenant-admin/stats/activity         # í™œë™ í†µê³„ (ì¼ë³„/ì£¼ë³„)
GET  /api/tenant-admin/audit-logs             # í…Œë„ŒíŠ¸ ë‚´ ê°ì‚¬ ë¡œê·¸
```

### Phase 3 ì‹ ê·œ API

```
# ë¸Œëœë”© í™•ì¥
GET  /api/tenant-admin/themes/templates       # í…Œë§ˆ í…œí”Œë¦¿ ëª©ë¡
POST /api/tenant-admin/themes/save            # ì»¤ìŠ¤í…€ í…Œë§ˆ ì €ì¥
GET  /api/tenant-admin/themes/preview         # í…Œë§ˆ í”„ë¦¬ë·°

# ë ˆì´ì•„ì›ƒ
GET  /api/tenant-admin/layout                 # ë ˆì´ì•„ì›ƒ ì„¤ì • ì¡°íšŒ
PUT  /api/tenant-admin/layout                 # ë ˆì´ì•„ì›ƒ ì„¤ì • ìˆ˜ì •
PUT  /api/tenant-admin/layout/menu            # ë©”ë‰´ êµ¬ì„± ìˆ˜ì •

# ì‚¬ìš©ì ê´€ë¦¬
GET  /api/tenant-admin/users/csv-template     # CSV í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ
POST /api/tenant-admin/users/csv-validate     # CSV ê²€ì¦
POST /api/tenant-admin/users/csv-import       # CSV ì¼ê´„ ë“±ë¡
GET  /api/tenant-admin/users/export           # ì‚¬ìš©ì ëª©ë¡ ë‚´ë³´ë‚´ê¸°

# ê¶Œí•œ ê´€ë¦¬
GET  /api/tenant-admin/operators/{id}/permissions    # ê¶Œí•œ ì¡°íšŒ
PUT  /api/tenant-admin/operators/{id}/permissions    # ê¶Œí•œ ìˆ˜ì •

# ì•Œë¦¼ & ì´ë©”ì¼
GET  /api/tenant-admin/notification-settings  # ì•Œë¦¼ ì„¤ì • ì¡°íšŒ
PUT  /api/tenant-admin/notification-settings  # ì•Œë¦¼ ì„¤ì • ìˆ˜ì •
GET  /api/tenant-admin/email-templates        # ì´ë©”ì¼ í…œí”Œë¦¿ ëª©ë¡
PUT  /api/tenant-admin/email-templates/{type} # í…œí”Œë¦¿ ìˆ˜ì •

# ë³´ì•ˆ ì •ì±…
GET  /api/tenant-admin/security-settings      # ë³´ì•ˆ ì„¤ì • ì¡°íšŒ
PUT  /api/tenant-admin/security-settings      # ë³´ì•ˆ ì„¤ì • ìˆ˜ì •

# ë‚´ë³´ë‚´ê¸°
GET  /api/tenant-admin/courses/export         # ê°•ì˜ ëª©ë¡ ë‚´ë³´ë‚´ê¸°
GET  /api/tenant-admin/enrollments/export     # ìˆ˜ê°• í˜„í™© ë‚´ë³´ë‚´ê¸°
GET  /api/tenant-admin/reports/export         # ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°
```

---

## í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ ìš”ì•½

### Phase 2 ì‹ ê·œ í˜ì´ì§€

```
# SUPER_ADMIN
/super-admin/dashboard              # í†µê³„ ëŒ€ì‹œë³´ë“œ (ì°¨íŠ¸ í¬í•¨)
/super-admin/tenants/:id/stats      # í…Œë„ŒíŠ¸ë³„ ìƒì„¸ í†µê³„
/super-admin/audit-logs             # ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ
/super-admin/announcements          # ê¸€ë¡œë²Œ ê³µì§€ ê´€ë¦¬

# TENANT_ADMIN
/{tenantCode}/tenant-admin/dashboard       # í†µê³„ ëŒ€ì‹œë³´ë“œ
/{tenantCode}/tenant-admin/audit-logs      # ê°ì‚¬ ë¡œê·¸
```

### Phase 3 ì‹ ê·œ í˜ì´ì§€

```
# TENANT_ADMIN
/{tenantCode}/tenant-admin/branding/themes     # í…Œë§ˆ ê´€ë¦¬
/{tenantCode}/tenant-admin/layout              # ë ˆì´ì•„ì›ƒ ì„¤ì •
/{tenantCode}/tenant-admin/users/import        # ì‚¬ìš©ì ì¼ê´„ ë“±ë¡
/{tenantCode}/tenant-admin/users/export        # ë°ì´í„° ë‚´ë³´ë‚´ê¸°
/{tenantCode}/tenant-admin/operators/:id/permissions  # ê¶Œí•œ ê´€ë¦¬
/{tenantCode}/tenant-admin/notifications       # ì•Œë¦¼ ì„¤ì •
/{tenantCode}/tenant-admin/email-templates     # ì´ë©”ì¼ í…œí”Œë¦¿
/{tenantCode}/tenant-admin/security            # ë³´ì•ˆ ì •ì±…
```

---

## êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 2 (ê¶Œì¥ ìˆœì„œ)
1. **SUPER_ADMIN í†µê³„ ëŒ€ì‹œë³´ë“œ** - ì‹œìŠ¤í…œ ì „ì²´ í˜„í™© íŒŒì•…
2. **TENANT_ADMIN í†µê³„ ëŒ€ì‹œë³´ë“œ** - í…Œë„ŒíŠ¸ ê´€ë¦¬ì í•„ìˆ˜ ê¸°ëŠ¥
3. **ê°ì‚¬ ë¡œê·¸** - ë³´ì•ˆ ë° ì¶”ì ì„±
4. **ì‚¬ìš©ëŸ‰ ì¶”ì ** - í–¥í›„ ê³¼ê¸ˆ/ì œí•œ ê¸°ë°˜

### Phase 3 (ê¶Œì¥ ìˆœì„œ)
1. **CSV ì¼ê´„ ë“±ë¡** - ëŒ€ëŸ‰ ì‚¬ìš©ì ì˜¨ë³´ë”©
2. **ë°ì´í„° ë‚´ë³´ë‚´ê¸°** - ë¦¬í¬íŒ… í•„ìˆ˜
3. **OPERATOR ê¶Œí•œ ì„¸ë¶„í™”** - ì„¸ë°€í•œ ì ‘ê·¼ ì œì–´
4. **ë ˆì´ì•„ì›ƒ ì»¤ìŠ¤í„°ë§ˆì´ì§•** - ì°¨ë³„í™” ê¸°ëŠ¥
5. **í…Œë§ˆ ì‹œìŠ¤í…œ** - UX í–¥ìƒ
6. **ë³´ì•ˆ ì •ì±…** - ì—”í„°í”„ë¼ì´ì¦ˆ ìš”êµ¬ì‚¬í•­
7. **ì´ë©”ì¼ í…œí”Œë¦¿** - ë¸Œëœë”© ì™„ì„±

---

## ê´€ë ¨ ë¬¸ì„œ

- [architecture.md](./architecture.md) - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- [database.md](./database.md) - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- [api.md](./api.md) - API ëª…ì„¸
- [multi-tenancy.md](./multi-tenancy.md) - ë©€í‹°í…Œë„Œì‹œ êµ¬í˜„
- [pages.md](./pages.md) - í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€
